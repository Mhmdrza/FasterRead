<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="description"
      content="A simple yet effective app to help you understand more per second :)"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <title>Faster Read</title>
    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes" />
    <link rel="icon" sizes="192x192" href="images/android-desktop.png" />
    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="Faster Read" />
    <link rel="apple-touch-icon-precomposed" href="images/ios-desktop.png" />
    <meta
      name="msapplication-TileImage"
      content="images/touch/ms-touch-icon-144x144-precomposed.png"
    />
    <meta name="msapplication-TileColor" content="#3372DF" />
    <link rel="shortcut icon" href="images/favicon.png" />
    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="http://www.example.com/">
    -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <style>
      .words {
        margin-left: 2px;
      }
      .bold {
        font-weight: bolder;
      }
      .enlarge {
        transition: margin 0.2s, transform 0.2s;
        margin: 5px;
        transform: scale(1.1);
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-light" style="background-color: #e3f2fd;">
      Yo
    </nav>
    <main>
      <section
        class="d-flex justify-content-center align-items-center flex-column"
      >
        <h1>Read Faster</h1>
        <form class="w-100" onsubmit="words = [];formSubmit(event)">
          <div
            class="d-flex justify-content-center align-items-center flex-column"
          >
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text">Paste your text here:</span>
              </div>
              <textarea
                class="form-control"
                aria-label="With textarea"
              ></textarea>
            </div>
            <button type="submit" class="btn btn-info">let it Rip!</button>
          </div>
        </form>
        <button class="btn btn-primary" onclick="currentWord = 0;fire()">
          Fire!
        </button>
        <div class="d-flex p-2 m-5 border flex-wrap" id="read-area"></div>
      </section>
    </main>
    <script>
      let words = [];
      function formSubmit(e) {
        e.preventDefault();
        const textAreaValue = e.target.elements[0].value;
        const spaceSeprated = textAreaValue.split(" ");
        const readArea = document.getElementById("read-area");
        spaceSeprated.forEach((word, index) => {
          const wordSpan = document.createElement("span");
          wordSpan.textContent = word;
          wordSpan.className = `words`;
          wordSpan.id = `w${index}`;
          words[index] = wordSpan;
          readArea.appendChild(wordSpan);
        });
      }

      let currentWord = 0;
      let delayByFrame = 7;
      let delayCounter = 1;
      function fire() {
        if (delayCounter < delayByFrame) {
          delayCounter++;
          requestAnimationFrame(fire);
        } else {
          if (currentWord < words.length) {
            words[currentWord].className += " bold enlarge";
            currentWord++;
            delayCounter = 1;
            requestAnimationFrame(fire);
          }
        }
      }
    </script>
  </body>
</html>
